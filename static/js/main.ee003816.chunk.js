(this["webpackJsonpskeleton-screen-creator"]=this["webpackJsonpskeleton-screen-creator"]||[]).push([[0],{20:function(t,e,i){},21:function(t,e,i){},23:function(t,e,i){},24:function(t,e,i){},26:function(t,e,i){},27:function(t,e,i){"use strict";i.r(e);var n=i(3),r=i.n(n),o=i(14),a=i.n(o),s=i(1),c=i(2),d=(i(20),i(4)),l=function(t,e,i,n){var r=t.getContext("2d");return r.clearRect(0,0,i||t.width,n||t.height),null==e&&"object"==typeof e&&(t.image=e),function(t,e){e&&t.getContext("2d").drawImage(e,0,0,e.width,e.height)}(t,e||t.image),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lightgray",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,o=t.getContext("2d");o.lineWidth=r;for(var a=r,s=0;a<t.width;a+=e,s++)o.beginPath(),o.moveTo(a,0),o.lineTo(a,t.height),o.strokeStyle=s%5===0?"darkgrey":n,o.stroke();for(var c=r,d=0;c<t.height;c+=i,d++)o.beginPath(),o.moveTo(0,c),o.lineTo(t.width,c),o.strokeStyle=d%5===0?"darkgrey":n,o.stroke()}(t),r},h=function(t){return Object(s.a)(Object(s.a)({},t),{},{width:t.width+"px",height:t.height+"px"})},u=function(t,e){var i=t.id,n=void 0===i?"":i,r=t.type,o=void 0===r?"":r,a=t.left,s=void 0===a?0:a,c=t.top,d=void 0===c?0:c,l=t.width,h=void 0===l?0:l,u=t.height,p=void 0===u?0:u,f=t.color,g=void 0===f?"":f,y=t.radius,b=void 0===y?0:y,j=t.isActive,O=void 0!==j&&j,m=(t.children,e.canvas),w=void 0===m?{}:m,x=e.extra,z=void 0===x?0:x;return s+h>w.width&&(s=w.width-h-z),s<=0&&(s=0),d+p>w.height&&(d=w.height-p-z),d<=0&&(d=0),h>w.width&&(h=w.width),p>w.height&&(p=w.height),[{id:n||v(),isActive:O,type:o,style:{left:s,top:d},size:{width:h,height:p,color:g,radius:b}}]},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[];t.forEach((function(t){(t.isActive||i)&&n.push(t.style[e])}));var r=Math.min.apply(Math,n);return[0===r,r]},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"width",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"top",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=[];t.forEach((function(t){(t.isActive||r)&&o.push(t.style[i]+t.size[e])}));var a=Math.max.apply(Math,o);return[a===n,a]},v=function(){var t=0;return function(){return t++}}(),g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=[0];return t.forEach((function(t){i.push(t.style.top+t.size.height)})),Math.max.apply(Math,i)+e},y=i(5),b=i(12),j=i(10),O=i(7),m=i(6),w=(i(21),i(0)),x=function(t){Object(O.a)(i,t);var e=Object(m.a)(i);function i(t){var n;return Object(y.a)(this,i),(n=e.call(this,t))._className="block-square",n._handleDragStart=n._handleDragStart.bind(Object(j.a)(n)),n}return Object(b.a)(i,[{key:"_handleDragStart",value:function(t){var e=t.target.getBoundingClientRect(),i=e.x,n=e.y;t.dataTransfer.setData("block",JSON.stringify({X:t.clientX-i,Y:t.clientY-n,type:this.constructor._type}))}},{key:"render",value:function(){var t=L(this.constructor._type)[1],e=this.props,i=e.children,n=void 0===i?"":i,r=e.style,o=void 0===r?{}:r,a=e.size,c=void 0===a?t.size:a;return Object(w.jsx)("div",Object(s.a)(Object(s.a)({type:"block",className:this._className,onDragStart:this._handleDragStart},this.props),{},{style:Object(s.a)(Object(s.a)({},o),{},{width:parseInt(c.width||2*c.radius),height:parseInt(c.height||2*c.radius),backgroundColor:c.color}),children:n}))}}]),i}(n.Component);x._type="square";var z=function(t){Object(O.a)(i,t);var e=Object(m.a)(i);function i(){var t;Object(y.a)(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r)))._className="block-circle",t}return i}(x);z._type="circle";var k=function(t){Object(O.a)(i,t);var e=Object(m.a)(i);function i(){var t;Object(y.a)(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r)))._className="block-square",t}return i}(x);k._type="square";var q=function(t){Object(O.a)(i,t);var e=Object(m.a)(i);function i(){var t;Object(y.a)(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r)))._className="block-group",t}return Object(b.a)(i,[{key:"_renderItems",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e,i){var n=L(e.type),r=Object(c.a)(n,1)[0];return e.style.position="absolute",Object(w.jsx)(r,Object(s.a)(Object(s.a)({},e),{},{children:t.props.children}),i)}))}},{key:"render",value:function(){var t=L(this.constructor._type)[1],e=this.props,i=e.style,n=void 0===i?{}:i,r=e.size,o=void 0===r?t.size:r;return Object(w.jsx)("div",Object(s.a)(Object(s.a)({type:"block",className:this._className,onDragStart:this._handleDragStart},this.props),{},{style:Object(s.a)(Object(s.a)({},n),{},{width:parseInt(o.width||2*o.radius),height:parseInt(o.height||2*o.radius),backgroundColor:o.color,position:"relative"}),children:this._renderItems(t.items)}))}}]),i}(x);q._type="group";var A=function(t){Object(O.a)(i,t);var e=Object(m.a)(i);function i(){return Object(y.a)(this,i),e.apply(this,arguments)}return i}(q);A._type="post-block";var $=function(t){Object(O.a)(i,t);var e=Object(m.a)(i);function i(){return Object(y.a)(this,i),e.apply(this,arguments)}return i}(q);$._type="post-block2";var _=function(t){Object(O.a)(i,t);var e=Object(m.a)(i);function i(){return Object(y.a)(this,i),e.apply(this,arguments)}return i}(q);_._type="user-tag-block";var C=function(t){Object(O.a)(i,t);var e=Object(m.a)(i);function i(){return Object(y.a)(this,i),e.apply(this,arguments)}return i}(q);C._type="user-tag-block2";var E=function(t){Object(O.a)(i,t);var e=Object(m.a)(i);function i(){return Object(y.a)(this,i),e.apply(this,arguments)}return i}(q);E._type="post-form-block";var I=function(t){Object(O.a)(i,t);var e=Object(m.a)(i);function i(){return Object(y.a)(this,i),e.apply(this,arguments)}return i}(q);I._type="post-form-block2";var D=function(t){Object(O.a)(i,t);var e=Object(m.a)(i);function i(){return Object(y.a)(this,i),e.apply(this,arguments)}return i}(q);D._type="user-info-block";var S=function(t){Object(O.a)(i,t);var e=Object(m.a)(i);function i(){return Object(y.a)(this,i),e.apply(this,arguments)}return i}(q);S._type="user-info-block2";var B=function(t){Object(O.a)(i,t);var e=Object(m.a)(i);function i(){return Object(y.a)(this,i),e.apply(this,arguments)}return i}(q);B._type="course-list-block";var M=function(t){Object(O.a)(i,t);var e=Object(m.a)(i);function i(){return Object(y.a)(this,i),e.apply(this,arguments)}return i}(q);M._type="course-list-block2";var F=function(t){Object(O.a)(i,t);var e=Object(m.a)(i);function i(){return Object(y.a)(this,i),e.apply(this,arguments)}return i}(q);F._type="copyright-block";var L=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k._type,e=new Map([[k._type,k],[z._type,z],[A._type,A],[$._type,$],[_._type,_],[C._type,C],[E._type,E],[I._type,I],[D._type,D],[S._type,S],[B._type,B],[M._type,M],[F._type,F]]);return e.has(t)?[e.get(t),R.find((function(e){return e.type===t}))]:[null,null]},R=[{type:k._type,size:{width:100,height:100,color:"#d3d3d3"}},{type:z._type,size:{radius:50,color:"#d3d3d3"}},{type:A._type,size:{width:710,height:468},style:{},items:[{type:"square",size:{width:708,height:466,color:"#ffffff",radius:354},style:{left:0,top:0}},{type:"circle",size:{width:60,height:60,color:"#d3d3d3",radius:30},style:{left:19,top:21}},{type:"square",size:{width:68,height:22,color:"#d3d3d3",radius:34},style:{left:100,top:17}},{type:"square",size:{width:147,height:20,color:"#d3d3d3",radius:73.5},style:{left:100,top:45}},{type:"square",size:{width:147,height:20,color:"#d3d3d3",radius:73.5},style:{left:100,top:70}},{type:"square",size:{width:49,height:28,color:"#d3d3d3",radius:24.5},style:{left:641,top:21}},{type:"square",size:{width:217,height:20,color:"#d3d3d3",radius:108.5},style:{left:15,top:95}},{type:"square",size:{width:191,height:20,color:"#d3d3d3",radius:95.5},style:{left:15,top:122}},{type:"square",size:{width:223,height:20,color:"#d3d3d3",radius:111.5},style:{left:15,top:150}},{type:"square",size:{width:342,height:20,color:"#d3d3d3",radius:171},style:{left:15,top:176}},{type:"square",size:{width:390,height:20,color:"#d3d3d3",radius:195},style:{left:15,top:204}},{type:"square",size:{width:300,height:20,color:"#d3d3d3",radius:150},style:{left:15,top:233}},{type:"square",size:{width:250,height:20,color:"#d3d3d3",radius:125},style:{left:15,top:268}},{type:"square",size:{width:143,height:38,color:"#d3d3d3",radius:71.5},style:{left:21,top:313}},{type:"square",size:{width:710,height:97,color:"#d3d3d3",radius:355},style:{left:0,top:371}}]},{type:$._type,size:{width:710,height:300},items:[{type:"square",style:{left:0,top:0},size:{width:708,height:466,color:"#ffffff",radius:354}},{type:"square",style:{left:15,top:17},size:{width:75,height:75,color:"#d3d3d3",radius:0}},{type:"square",style:{left:100,top:17},size:{width:68,height:22,color:"#d3d3d3",radius:34}},{type:"square",style:{left:100,top:45},size:{width:147,height:20,color:"#d3d3d3",radius:73.5}},{type:"square",style:{left:15,top:121},size:{width:390,height:20,color:"#d3d3d3",radius:195}},{type:"square",style:{left:15,top:150},size:{width:300,height:20,color:"#d3d3d3",radius:150}},{type:"square",style:{left:15,top:185},size:{width:250,height:20,color:"#d3d3d3",radius:125}},{type:"square",style:{left:0,top:371},size:{width:710,height:97,color:"#d3d3d3",radius:355}}]},{type:_._type,size:{width:710,height:100},items:[{type:"square",size:{width:709,height:188,radius:354.5,color:"#ffffff"},style:{left:0,top:0}},{type:"square",size:{width:103,height:20,radius:51.5,color:"#d3d3d3"},style:{left:15,top:20}},{type:"square",size:{width:78,height:20,radius:39,color:"#d3d3d3"},style:{left:127,top:20}},{type:"square",size:{width:93,height:20,radius:46.5,color:"#d3d3d3"},style:{left:595,top:20}},{type:"square",size:{width:78,height:20,radius:39,color:"#d3d3d3"},style:{left:23,top:50}},{type:"square",size:{width:78,height:20,radius:39,color:"#d3d3d3"},style:{left:15,top:87}},{type:"square",size:{width:78,height:20,radius:39,color:"#d3d3d3"},style:{left:15,top:120}},{type:"square",size:{width:131,height:20,radius:65.5,color:"#d3d3d3"},style:{left:496,top:150}},{type:"square",size:{width:35,height:20,radius:17.5,color:"#d3d3d3"},style:{left:650,top:150}}]},{type:C._type,size:{width:710,height:200},items:[{type:"square",style:{left:0,top:0},size:{width:709,height:188,color:"#ffffff",radius:354.5}},{type:"square",style:{left:15,top:20},size:{width:103,height:20,color:"#d3d3d3",radius:51.5}},{type:"square",style:{left:127,top:20},size:{width:78,height:20,color:"#d3d3d3",radius:39}},{type:"square",style:{left:595,top:20},size:{width:93,height:20,color:"#d3d3d3",radius:46.5}},{type:"square",style:{left:15,top:87},size:{width:78,height:20,color:"#d3d3d3",radius:39}},{type:"square",style:{left:496,top:150},size:{width:131,height:20,color:"#d3d3d3",radius:65.5}},{type:"square",style:{left:650,top:150},size:{width:35,height:20,color:"#d3d3d3",radius:17.5}}]},{type:E._type,size:{width:710,height:100},style:{},items:[{type:"square",size:{width:177,height:29,color:"#ffffff",radius:88.5},style:{left:533,top:5}},{type:"square",size:{width:73,height:20,color:"#d3d3d3",radius:36.5},style:{left:451,top:12}},{type:"square",size:{width:51,height:20,color:"#d3d3d3",radius:25.5},style:{left:86,top:11}},{type:"square",size:{width:51,height:20,color:"#d3d3d3",radius:25.5},style:{left:159,top:11}},{type:"square",size:{width:79,height:43,color:"#ffffff",radius:39.5},style:{left:0,top:0}},{type:"square",size:{width:51,height:20,color:"#d3d3d3",radius:25.5},style:{left:15,top:11}},{type:"square",size:{width:710,height:76,color:"#ffffff",radius:355},style:{left:0,top:41}},{type:"circle",size:{width:50,height:50,color:"#d3d3d3",radius:25},style:{left:11,top:51}},{type:"square",size:{width:460,height:18,color:"#d3d3d3",radius:230},style:{left:68,top:68}}]},{type:D._type,size:{width:260,height:195},items:[{type:"square",size:{width:259,height:67,radius:129.5,color:"#d3d3d3"},style:{left:0,top:0}},{type:"square",size:{width:260,height:130,radius:130,color:"#ffffff"},style:{left:0,top:67}},{type:"circle",size:{width:80,height:80,radius:40,color:"#ffffff"},style:{left:19,top:37}},{type:"circle",size:{width:72,height:72,radius:36,color:"#d3d3d3"},style:{left:23,top:41}},{type:"square",size:{width:85,height:20,radius:42.5,color:"#d3d3d3"},style:{left:105,top:72}},{type:"square",size:{width:59,height:20,radius:29.5,color:"#d3d3d3"},style:{left:105,top:95}},{type:"circle",size:{width:24,height:24,radius:12,color:"#d3d3d3"},style:{left:14,top:104}},{type:"square",size:{width:59,height:20,radius:29.5,color:"#d3d3d3"},style:{left:106,top:137}},{type:"circle",size:{width:32,height:32,radius:16,color:"#d3d3d3"},style:{left:143,top:127}},{type:"square",size:{width:52,height:31,radius:26,color:"#d3d3d3"},style:{left:184,top:127}},{type:"square",size:{width:140,height:13,radius:70,color:"#d3d3d3"},style:{left:100,top:163}}]},{type:S._type,size:{width:710,height:195},items:[{type:"square",style:{left:0,top:0},size:{width:259,height:67,color:"#d3d3d3",radius:129.5}},{type:"square",style:{left:0,top:67},size:{width:260,height:130,color:"#ffffff",radius:130}},{type:"square",style:{left:19,top:37},size:{color:"#ffffff",width:80,height:80,radius:40}},{type:"square",style:{left:23,top:41},size:{color:"#d3d3d3",width:72,height:72,radius:36}},{type:"square",style:{left:105,top:72},size:{color:"#d3d3d3",width:85,height:15,radius:0}},{type:"square",style:{left:105,top:95},size:{color:"#d3d3d3",width:59,height:15,radius:0}},{type:"square",style:{left:100,top:141},size:{width:140,height:13,color:"#d3d3d3",radius:70}}]},{type:I._type,size:{width:710,height:200},items:[{type:"square",style:{left:533,top:5},size:{width:177,height:29,color:"#ffffff",radius:88.5}},{type:"square",style:{left:0,top:0},size:{width:79,height:43,color:"#ffffff",radius:39.5}},{type:"square",style:{left:15,top:11},size:{width:51,height:20,color:"#d3d3d3",radius:25.5}},{type:"square",style:{left:0,top:41},size:{width:710,height:76,color:"#ffffff",radius:355}},{type:"square",style:{left:11,top:51},size:{color:"#d3d3d3",width:50,height:50,radius:25}},{type:"square",style:{left:68,top:68},size:{width:460,height:18,color:"#d3d3d3",radius:230}}]},{type:B._type,size:{width:260,height:100},items:[{type:"square",size:{width:260,height:165,color:"#ffffff",radius:130},style:{left:0,top:0}},{type:"square",size:{width:161,height:20,color:"#d3d3d3",radius:80.5},style:{left:11,top:17}},{type:"square",size:{width:59,height:20,color:"#d3d3d3",radius:29.5},style:{left:199,top:17}},{type:"square",size:{width:188,height:20,color:"#d3d3d3",radius:94},style:{left:11,top:68}},{type:"square",size:{width:149,height:20,color:"#d3d3d3",radius:74.5},style:{left:35,top:100}},{type:"square",size:{width:214,height:20,color:"#d3d3d3",radius:107},style:{left:35,top:132}}]},{type:M._type,size:{width:214,height:200},items:[{type:"square",style:{left:0,top:0},size:{width:260,height:165,color:"#ffffff",radius:130}},{type:"square",style:{left:15,top:17},size:{color:"#d3d3d3",width:161,height:20,radius:0}},{type:"square",style:{left:15,top:100},size:{color:"#d3d3d3",width:149,height:20,radius:0}},{type:"square",style:{left:15,top:132},size:{color:"#d3d3d3",width:214,height:20,radius:0}}]},{type:F._type,size:{width:260,height:200},items:[{type:"square",size:{width:228,height:20,color:"#d3d3d3",radius:114},style:{left:15,top:0}},{type:"square",size:{width:20,height:20,color:"#d3d3d3",radius:10},style:{left:34,top:49}},{type:"square",size:{width:20,height:20,color:"#d3d3d3",radius:10},style:{left:68,top:49}},{type:"square",size:{width:20,height:20,color:"#d3d3d3",radius:10},style:{left:102,top:49}},{type:"square",size:{width:20,height:20,color:"#d3d3d3",radius:10},style:{left:137,top:49}},{type:"square",size:{width:20,height:20,color:"#d3d3d3",radius:10},style:{left:172,top:49}},{type:"square",size:{width:20,height:20,color:"#d3d3d3",radius:10},style:{left:206,top:49}},{type:"square",size:{width:175,height:18,color:"#d3d3d3",radius:87.5},style:{left:43,top:95}},{type:"square",size:{width:105,height:18,color:"#d3d3d3",radius:52.5},style:{left:78,top:117}},{type:"square",size:{width:175,height:18,color:"#d3d3d3",radius:87.5},style:{left:44,top:145}}]}],P=function(t){var e=t.blocks,i=void 0===e?[]:e,n=t.draggable,r=void 0!==n&&n;return i.map((function(t,e){var i=L(t.type),n=Object(c.a)(i,1)[0];return Object(w.jsx)(n,Object(s.a)({draggable:r},t),e)}))},N=function(t){var e=t.block,i=void 0===e?{}:e,r=t.blocks,o=void 0===r?[]:r,a=t.children,l=void 0===a?"":a,h=t.canvas,g=void 0===h?"":h,y=t.setCurrentBlock,b=void 0===y?function(){}:y,j=t.removeBlock,O=void 0===j?function(){}:j,m=t.addBlock,x=void 0===m?function(){}:m,z=i.id,k=void 0===z?"":z,q=i.style,A=void 0===q?{}:q,$=i.type,_=void 0===$?"":$,C=i.size,E=void 0===C?{}:C,I=i.isActive,D=void 0!==I&&I,S=L(_),B=Object(c.a)(S,1)[0],M=function(t){!D||"block"!==t.target.getAttribute("type")&&t.target!==document.body||(function(t,e){var i=e.canvas,n=void 0===i?{}:i,r=e.remove,o=void 0===r?function(){}:r,a=e.add,l=void 0===a?function(){}:a,h=e.update,g=void 0===h?function(){}:h;return{Backspace:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.preventDefault(),t.stopPropagation();var i=[];e.forEach((function(t){t.isActive&&i.push(t.id)})),o(i)},KeyC:function(){t.metaKey&&(t.preventDefault(),t.stopPropagation(),console.log("copy"))},KeyV:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t.metaKey){t.preventDefault(),t.stopPropagation();var i=[];e.forEach((function(t,e){if(t.isActive){var r=t.type,o=t.style,a=t.size,d=u(Object(s.a)({type:r,isActive:!0,id:v(),left:o.left+10,top:o.top+10},a),{canvas:n,extra:15}),l=Object(c.a)(d,1)[0];i.push(l)}})),l(i,!0)}},ArrowUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t.preventDefault(),t.stopPropagation(),!p(Object(d.a)(e),"top")[0]){var i=[];e.forEach((function(t){if(t.isActive){var e=t.style.top;if((e-=1)>=0){var r=u(Object(s.a)(Object(s.a)(Object(s.a)(Object(s.a)({},t),t.size),t.style),{},{top:e}),{canvas:n,side:"top"}),o=Object(c.a)(r,1)[0];i.push(o)}}})),g(i)}},ArrowRight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t.preventDefault(),t.stopPropagation(),!f(Object(d.a)(e),"width","left",n.width)[0]){var i=[];e.forEach((function(t){if(t.isActive){var e=t.style.left;if((e+=1)+t.size.width<=n.width){var r=u(Object(s.a)(Object(s.a)(Object(s.a)(Object(s.a)({},t),t.size),t.style),{},{left:e}),{canvas:n,side:"right"}),o=Object(c.a)(r,1)[0];i.push(o)}}})),g(i)}},ArrowDown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t.preventDefault(),t.stopPropagation(),!f(Object(d.a)(e),"height","top",n.height)[0]){var i=[];e.forEach((function(t){if(t.isActive){var e=t.style.top;if((e+=1)+t.size.height<=n.height){var r=u(Object(s.a)(Object(s.a)(Object(s.a)(Object(s.a)({},t),t.size),t.style),{},{top:e}),{canvas:n,side:"bottom"}),o=Object(c.a)(r,1)[0];i.push(o)}}})),g(i)}},ArrowLeft:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t.preventDefault(),t.stopPropagation(),!p(Object(d.a)(e),"left")[0]){var i=[];e.forEach((function(t){if(t.isActive){var e=t.style.left;if((e-=1)>=0){var r=u(Object(s.a)(Object(s.a)(Object(s.a)(Object(s.a)({},t),t.size),t.style),{},{left:e}),{canvas:n,side:"left"}),o=Object(c.a)(r,1)[0];i.push(o)}}})),g(i)}}}}(t,{canvas:g,remove:O,add:x,update:b})[t.code]||function(){})(Object(d.a)(o))};return Object(n.useEffect)((function(){if(D)return window.addEventListener("keydown",M,!1),function(){window.removeEventListener("keydown",M,!1)}})),Object(n.useEffect)((function(){D&&document.getElementById(k).focus()})),Object(w.jsx)(B,{id:k,style:Object(s.a)(Object(s.a)({},A),{},{position:"absolute",opacity:.8}),size:E,tabIndex:D?1:-1,isactive:D?D.toString():void 0,onClick:function(t){if(t.preventDefault(),t.stopPropagation(),t.metaKey&&!D)return b([{id:k,isActive:!0}]);b([{id:k,isActive:!D}],!0)},children:l})},T=function(t){var e=t.block,i=void 0===e?{}:e,r=t.position,o=void 0===r?"left":r,a=t.canvas,s=void 0===a?{}:a,d=t.isActive,l=void 0!==d&&d,h=t.onLineMove,u=void 0===h?function(){}:h,p=t.activeStyle,f=void 0===p?function(){}:p,v=Object(n.useState)(!1),g=Object(c.a)(v,2),y=g[0],b=g[1];return Object(w.jsx)("i",{className:"block-wrapper-".concat(o),onMouseDown:function(t){if(l){t.stopPropagation(),t.preventDefault();var e=t.target.getBoundingClientRect(),n={top:0,right:0,bottom:0,left:0},r=function(t){"left"===o||"right"===o?n[o]=t.clientX-e.x:"top"!==o&&"bottom"!==o||(n[o]=t.clientY-e.y),u(i,n,o)};document.addEventListener("mousemove",r,!1),document.addEventListener("mouseup",(function t(){document.removeEventListener("mousemove",r,!1),document.removeEventListener("mouseup",t,!1)}),!1)}},onMouseOver:function(){return b(!0)},onMouseOut:function(){return b(!1)},style:y?f(s,i.style):{}})},U=function(t){var e=t.blocks,i=void 0===e?[]:e,n=(t.children,t.canvas),r=void 0===n?"":n,o=t.onUpdateBlock,a=void 0===o?function(){}:o,l=[["top",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,i=e.left,n=void 0===i?0:i;return{left:"".concat(-n,"px"),width:"".concat(t.width,"px")}}],["right",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,i=e.top,n=void 0===i?0:i;return{top:"".concat(-n,"px"),height:"".concat(t.height,"px")}}],["bottom",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,i=e.left,n=void 0===i?0:i;return{left:"".concat(-n,"px"),width:"".concat(t.width,"px")}}],["left",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,i=e.top,n=void 0===i?0:i;return{top:"".concat(-n,"px"),height:"".concat(t.height,"px")}}]],h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=i.map((function(i){var r=t.find((function(t){return t.id===i.id}))||{};return e&&(i.isActive=!1),(i=Object(s.a)(Object(s.a)({},i),r)).isActive&&n.push(i.id),Object(s.a)(Object(s.a)({},i),r)}));a(r,n)},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];a(i.filter((function(e){return-1===t.indexOf(e.id)})))},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];i.forEach((function(t){t.isActive&&!e&&n.push(t.id)})),t.forEach((function(t){return n.push(t.id)})),a([].concat(Object(d.a)(i),Object(d.a)(t)),n)},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,i=e.left,n=void 0===i?0:i,o=e.right,a=void 0===o?0:o,d=e.top,l=void 0===d?0:d,p=e.bottom,f=void 0===p?0:p,v=arguments.length>2?arguments[2]:void 0,g=u(Object(s.a)(Object(s.a)(Object(s.a)({},t),t.size),t.style),{canvas:r}),y=Object(c.a)(g,1),b=y[0];if("square"===t.type)switch(v){case"top":b.size.height=t.size.height-l,b.style.top=l+t.style.top;break;case"right":b.size.width=a+t.size.width;break;case"bottom":b.size.height=f+t.size.height;break;case"left":b.size.width=t.size.width-n,b.style.left=n+t.style.left}else if("circle"===t.type){var j=l||a||f||n;switch(v){case"left":case"top":j*=-1;break;default:j*=1}b.style.top=t.style.top-j,b.style.left=t.style.left-j,b.size.radius=t.size.radius+j,b.size.width=2*b.size.radius,b.size.height=2*b.size.radius}b.size.width<=10||b.size.height<=10||b.style.left+b.size.width>r.width||b.style.top+b.size.height>r.height||b.style.left<0||b.style.top<0||(b.isActive=!0,h([b],!0))};return i.map((function(t,e){return Object(w.jsx)(N,{canvas:r,isActive:t.isActive,addBlock:f,setCurrentBlock:h,removeBlock:p,block:t,blocks:i,children:l.map((function(e){var i=Object(c.a)(e,2),n=i[0],o=i[1];return Object(w.jsx)(T,{canvas:r,block:t,position:n,isActive:t.isActive,activeStyle:o,onLineMove:v},n)}))},e)}))},V=function(t){var e=t.children,i=t.width,r=void 0===i?450:i,o=t.height,a=void 0===o?350:o,s=t.image,c=void 0===s?null:s,d=t.blocks,u=void 0===d?{}:d,p=t.onUpdateBlock,f=void 0===p?function(){}:p,v=t.onDrop,g=void 0===v?function(){}:v,y=t.onDragOver,b=void 0===y?function(){}:y,j=t.onMouseDown,O=void 0===j?function(){}:j,m=Object(n.useRef)();Object(n.useEffect)((function(){l(m.current,c,r,a)}),[a,c,r]),Object(n.useEffect)((function(){m.current.image=c}),[c]);var x=function(t){var e=t.children;return n.Children.map(e,(function(t){return Object(n.cloneElement)(t,{canvas:m.current,blocks:u})}))};return Object(w.jsxs)("div",{className:"playground-canvas",style:h({width:r,height:a}),children:[Object(w.jsx)("canvas",{width:r,height:a,onDrop:function(t){t.target.style.zIndex=0,g(t)},onDragOver:function(t){t.target.style.zIndex=2,b(t)},onDragLeave:function(t){t.target.style.zIndex=0},onMouseDown:function(t){t.stopPropagation(),t.preventDefault(),t.target.style.zIndex=2;var e=t.target.getBoundingClientRect(),i={x:t.clientX-e.x,y:t.clientY-e.y},n=[],r=function(r){var o={x:r.clientX-e.x,y:r.clientY-e.y};!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},n=t.getContext("2d");l(t),n.beginPath(),n.strokeStyle="#59c7f9",n.moveTo(e.x,e.y),n.lineTo(i.x,e.y),n.lineTo(i.x,i.y),n.lineTo(e.x,i.y),n.closePath(),n.stroke()}(t.target,i,o),n=function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{left:0,top:0,right:0,bottom:0},e=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(i){i.style.left>t.right||t.left>i.style.left+(i.size.width||2*i.size.radius)||i.style.top>t.bottom||t.top>i.style.top+(i.size.height||2*i.size.radius)||e.push(i.id)})),e}(u,{left:Math.min(i.x,o.x),top:Math.min(i.y,o.y),right:Math.max(i.x,o.x),bottom:Math.max(i.y,o.y)})},o=function e(i){t.target.removeEventListener("mousemove",r),t.target.removeEventListener("mouseup",e),t.target.removeEventListener("mouseout",e),t.target.style.zIndex=0,l(t.target),f(u,n)};t.target.addEventListener("mousemove",r),t.target.addEventListener("mouseup",o),t.target.addEventListener("mouseout",o)},ref:m}),Object(w.jsx)("div",{onMouseDown:function(t){return O(t,m)},children:Object(w.jsx)(x,{children:e})})]})},X=(i(23),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=[];return t.forEach((function(t,r){n.push("(".concat(t,",").concat(e[r],",").concat(i[r],")"))})),n.length?"(".concat(n.join(","),");"):""}),Y=function(t){var e=t.blocks,i=void 0===e?[]:e,n=t.width,r=void 0===n?450:n,o=t.height,a=void 0===o?350:o,s=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:450,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:350,n={},r=[],o=[],a=[],s=new Map([["square",function(t){var e=t.color;return"linear-gradient( ".concat(void 0===e?"lightgray":e," 100%, transparent 0 )")}],["circle",function(t){var e=t.radius,i=void 0===e?50:e,n=t.color,r=void 0===n?"lightgray":n;return"radial-gradient( circle ".concat(i,"px at ").concat(i,"px ").concat(i,"px, ").concat(r," 100%, transparent 0 )")}]]),c=new Map([["square",function(t){var e=t.width,i=t.height;return"".concat(e+"px"||!1," ").concat(i+"px"||!1)}],["circle",function(t){var e=t.radius;return"".concat(2*e,"px ").concat(2*e,"px")}]]),d=t.length-1;d>=0;d--){var l=t[d];r.push(s.get(l.type)(l.size)),o.push("".concat(l.style.left,"px ").concat(l.style.top,"px")),a.push(c.get(l.type)(l.size))}return n.backgroundImage=r.join(","),n.backgroundPosition=o.join(","),n.backgroundSize=a.join(","),n.width=e,n.height=i,[h(n),X(r,a,o)]}(i,r,a),d=Object(c.a)(s,2),l=d[0],u=d[1],p=function(t){t.target.select(),document.execCommand("copy")};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(V,{width:r,height:a,children:Object(w.jsx)("div",{className:"result-render",style:l})}),Object(w.jsxs)("div",{children:[Object(w.jsx)("label",{htmlFor:"sass",children:"Sass:"}),Object(w.jsx)("textarea",{name:"sass",value:function(t){return'\n    @mixin skeleton-screen-bg-creator($images, $width, $height) {\n        $imagesArr: ();\n        $sizeArr: ();\n        $positionArr: ();\n    \n        @for $i from 1 through length($images) {\n            $imagesArr: append(\n                $imagesArr,\n                nth(nth($images, $i), 1),\n                $separator: comma\n            );\n            $sizeArr: append($sizeArr, nth(nth($images, $i), 2), $separator: comma);\n            $positionArr: append(\n                $positionArr,\n                nth(nth($images, $i), 3),\n                $separator: comma\n            );\n        }\n    \n        background: {\n            image: $imagesArr;\n            size: $sizeArr;\n            position: $positionArr;\n        }\n        background-repeat: no-repeat;\n        overflow: hidden;\n        width: $width;\n        height: $height;\n        &:before {\n            content: "";\n            width: $width;\n            height: $height;\n            display: inline-block;\n            position: relative;\n            top: 0;\n            left: -100%;\n            background-image: linear-gradient(\n                100deg,\n                rgba(255, 255, 255, 0),\n                rgba(255, 255, 255, 0.5) 50%,\n                rgba(255, 255, 255, 0) 80%\n            );\n            animation: shine 1s infinite;\n        }\n    \n        @keyframes shine {\n            to {\n                left: 100%;\n            }\n        }\n    }\n    $demo:'.concat(t,"\n    div{\n        &:empty {\n            @include skeleton-screen-bg-creator(\n                $demo,\n                100%,\n                100vh\n            );\n        }\n    }\n    ")}(u),rows:10,cols:20,onFocus:p,readOnly:!0,style:{width:"100%"}})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("label",{htmlFor:"css",children:"CSS:"}),Object(w.jsx)("textarea",{name:"sass",value:function(t){return"\n    div:empty{\n        background-image: ".concat(t.backgroundImage,";\n        background-position: ").concat(t.backgroundPosition,";\n        background-size: ").concat(t.backgroundSize,';\n        background-repeat: no-repeat;\n        width:100vw;\n        height:100vh;\n        overflow:hidden;\n        position:relative;\n    }\n    div:before {\n        content: "";\n        width: 100vw;\n        height: 100vh;\n        display: inline-block;\n        position: relative;\n        top: 0;\n        left: -100%;\n        background-image: linear-gradient(\n            100deg,\n            rgba(255, 255, 255, 0),\n            rgba(255, 255, 255, 0.5) 50%,\n            rgba(255, 255, 255, 0) 80%\n        );\n        animation: shine 1s infinite;\n    }\n    @keyframes shine {\n        to {\n            left: 100%;\n        }\n    }\n    ')}(l),rows:10,cols:20,onFocus:p,readOnly:!0,style:{width:"100%"}})]})]})},W=function(t){var e=t.onCanvasChange,i=void 0===e?function(){}:e,n=t.onBlockChange,r=void 0===n?function(){}:n,o=t.setBlocks,a=void 0===o?function(){}:o,l=t.blocks,h=void 0===l?{}:l,u=t.canvasAttr,f=void 0===u?{}:u;return Object(w.jsxs)("div",{className:"button-group",children:[Object(w.jsx)("button",{onClick:function(){i(Object(s.a)(Object(s.a)({},f),{},{height:window.innerHeight/2})),a([])},children:"\u6e05\u7a7a\u753b\u677f"}),Object(w.jsx)("button",{onClick:function(){return r(h)},children:"\u6e32\u67d3"}),Object(w.jsx)("button",{onClick:function(){var t=window.prompt("\u8bf7\u586b\u5165\u6837\u5f0f\u4ee3\u7801 (ps:\u6709\u683c\u5f0f\u9650\u5236)")||"";if(t=t.replace(/\r|\n|\s{2}/g,"")){var e=a(t),i=[];e.forEach((function(t){i.push(t.id)})),a(Object(d.a)(e),i)}},children:"\u5bfc\u5165\u6837\u5f0f\u4ee3\u7801"}),Object(w.jsx)("button",{onClick:function(){var t=window.prompt("\u8bf7\u586b\u5165\u6837\u5f0f\u4ee3\u7801 (ps:\u6709\u683c\u5f0f\u9650\u5236)")||"";if(t=t.replace(/\r|\n|\s{2}/g,"")){var e=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=[],i=new RegExp(/(radial|linear)-gradient\(([^)]*)\)(,\s?\d+(\.*\d*)(px|rem|%)?\s{1}\d+(\.*\d*)(px|rem|%)?){2}/g),n=new RegExp(/#\S+\d{0}/gi),r=new RegExp(/,\s?\d+(\.*\d*)(px|rem|%)?\s{1}\d+(\.*\d*)(px|rem|%)?/g),o=t.match(i)||[],a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.indexOf("radial-gradient")>=0?"circle":t.indexOf("linear-gradient")>=0?"square":void 0},s=function(t){var e=t.match(r)||[],i=Object(c.a)(e,2),o=i[0],a=void 0===o?"":o,s=i[1],d=void 0===s?"":s,l=t.match(n)||[],h=Object(c.a)(l,1)[0],u=void 0===h?"":h,p=a.replace(",","").trim().split(" "),f=Object(c.a)(p,2),v=f[0],g=void 0===v?"":v,y=f[1],b=void 0===y?"":y,j=d.replace(",","").trim().split(" "),O=Object(c.a)(j,2),m=O[0],w=void 0===m?"":m,x=O[1],z=void 0===x?"":x;return[{width:parseInt(g),height:parseInt(b),radius:parseInt(g)/2,color:u},{left:parseInt(w),top:parseInt(z)}]},d=0;d<o.length;d++){var l=s(o[d]),h=Object(c.a)(l,2),u=h[0],p=h[1],f=a(o[d]),g={id:v(),type:f,size:u,style:p};e.unshift(g)}return e}(t),n=[];e.forEach((function(t){n.push(t.id)}));var r=g(h,15),o=p(e,"top",!0)[1];e=e.map((function(t){return t.style.top+=r-o,t})),i(Object(s.a)(Object(s.a)({},f),{},{height:g([].concat(Object(d.a)(h),Object(d.a)(e)),15)})),a([].concat(Object(d.a)(h),Object(d.a)(e)),n)}},children:"\u6dfb\u52a0\u6837\u5f0f\u5757"})]})},H=function(){return Object(w.jsxs)("div",{style:{maxHeight:250,overflow:"scroll",display:"flex"},children:[Object(w.jsxs)("ul",{children:[Object(w.jsx)("h3",{children:"\u5feb\u6377\u952e:"}),Object(w.jsx)("li",{children:"Delete: \u5220\u9664"}),Object(w.jsx)("li",{children:"Command+V: \u590d\u5236\u9009\u4e2d\u7684\u5757"}),Object(w.jsx)("li",{children:"ArrowUp|ArrowDown|ArrowLeft|ArrowRight:\u4e0a\u4e0b\u5de6\u53f3\u79fb\u52a8"}),Object(w.jsx)("li",{children:"Command+\u5de6\u51fb: \u591a\u9879\u9009\u62e9|\u591a\u9879\u53d6\u6d88\u9009\u62e9"})]}),Object(w.jsxs)("ul",{children:[Object(w.jsx)("h3",{children:"\u8bf4\u660e"}),Object(w.jsxs)("li",{children:["\u751f\u6210\u7684\u6837\u5f0f\u4ec5\u5bf9\u4e8eSCSS\u6709\u6548 \u4e14SCSS\u4e2d\u5df2\u7ecf\u5b9a\u4e49\u662f\u51fd\u6570",Object(w.jsx)("pre",{children:Object(w.jsx)("code",{children:'\n                    @mixin skeleton-screen-bg-creator($images, $width, $height) {\n                        $imagesArr: ();\n                        $sizeArr: ();\n                        $positionArr: ();\n                    \n                        @for $i from 1 through length($images) {\n                            $imagesArr: append(\n                                $imagesArr,\n                                nth(nth($images, $i), 1),\n                                $separator: comma\n                            );\n                            $sizeArr: append($sizeArr, nth(nth($images, $i), 2), $separator: comma);\n                            $positionArr: append(\n                                $positionArr,\n                                nth(nth($images, $i), 3),\n                                $separator: comma\n                            );\n                        }\n                    \n                        background: {\n                            image: $imagesArr;\n                            size: $sizeArr;\n                            position: $positionArr;\n                        }\n                        background-repeat: no-repeat;\n                        overflow: hidden;\n                        width: $width;\n                        height: $height;\n                        &:before {\n                            content: "";\n                            width: $width;\n                            height: $height;\n                            display: inline-block;\n                            position: relative;\n                            top: -20px;\n                            left: -100%;\n                            background-image: linear-gradient(\n                                100deg,\n                                rgba(255, 255, 255, 0),\n                                rgba(255, 255, 255, 0.5) 50%,\n                                rgba(255, 255, 255, 0) 80%\n                            );\n                            animation: shine 1s infinite;\n                        }\n                    \n                        @keyframes shine {\n                            to {\n                                left: 100%;\n                            }\n                        }\n                    }\n                    '})})]}),Object(w.jsxs)("li",{children:["\u5bfc\u5165\u53ca\u6dfb\u52a0\u7684\u6837\u5f0f\u5757\u7684\u683c\u5f0f\u57fa\u4e8e",Object(w.jsx)("pre",{children:Object(w.jsx)("code",{children:"\n            $arr: (\n                (linear-gradient(lightgray 25px, transparent 0), 100px 25px, 15px 15px),\n                (linear-gradient(white 100%, transparent 0), 25px 25px, 120px 15px)\n            );\n            "})}),"\u662f\u4ee5[image,size,position]\u4e3a\u5b50\u5143\u7d20\u7684\u6570\u7ec4"]}),Object(w.jsxs)("li",{children:["\u4f7f\u7528:",Object(w.jsx)("pre",{children:Object(w.jsx)("code",{children:"\n                    $arr: (\n                        (linear-gradient(#ff0000 25px, transparent 0), 100px 25px, 15px 15px),\n                        (linear-gradient(white 100%, transparent 0), 25px 25px, 120px 15px)\n                    );\n                    \n                    .my-skeleton-screen {\n                        @include skeleton-screen-bg-creator($arr,$backgroundWidth,$backgroundHeight);\n                    }\n                    "})})]})]})]})},K=(i(24),i(13)),J=i.n(K),G=i(15);var Q=function(t){var e=t.children,i=t.onSubmit,n=void 0===i?function(t){}:i,r=t.onReset,o=void 0===r?function(t){}:r;return Object(w.jsx)("form",{onSubmit:function(t){t.preventDefault();var e=new FormData(t.target),i=Object.fromEntries(e.entries()),r=t.target.querySelectorAll('[type="checkbox"]'),o=new Set;Array.prototype.forEach.call(r,(function(t){o.add(t.name)})),o.forEach((function(t){i[t]=e.getAll(t)})),t.data=i,n(t)},onReset:o,children:e})},Z=function(t){var e=t.type,i=void 0===e?"square":e,n=new Map([["square",function(t){var e=t.height,i=void 0===e?100:e,n=t.width,r=void 0===n?100:n;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("label",{htmlFor:"height",children:"\u9ad8\u5ea6:"}),Object(w.jsx)("input",{id:"height",type:"number",name:"height",defaultValue:parseInt(i),placeholder:"\u8bf7\u8f93\u5165\u9ad8\u5ea6"})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("label",{htmlFor:"",children:"\u5bbd\u5ea6:"}),Object(w.jsx)("input",{type:"number",id:"width",name:"width",defaultValue:parseInt(r),placeholder:"\u8bf7\u8f93\u5165\u5bbd\u5ea6"})]})]})}],["circle",function(t){var e=t.radius,i=void 0===e?50:e;return Object(w.jsxs)("div",{children:[Object(w.jsx)("label",{htmlFor:"radius",children:"\u534a\u5f84:"}),Object(w.jsx)("input",{type:"number",id:"radius",name:"radius",defaultValue:parseInt(i)})]})}]]),r=n.get(i),o=arguments[0]||{};return Object(w.jsx)(r,Object(s.a)({},o.size))},tt=function(t){var e=t.height,i=void 0===e?350:e,n=t.width,r=void 0===n?450:n,o=t.style,a=void 0===o?{}:o,c=t.onUpdateCanvas,d=void 0===c?function(){}:c,l=function(t,e){return new Promise((function(i,n){if(!t.name)return n();var r=new FileReader;r.onload=function(){var t=new Image;t.onload=function(){var n=t.width;t.width=e,t.height=e*t.height/n,i(t)},t.src=this.result},r.readAsDataURL(t)}))},h=function(){var t=Object(G.a)(J.a.mark((function t(e){var i;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l(e.data.file,parseInt(e.data.imageWidth));case 3:i=t.sent,d(Object(s.a)(Object(s.a)({},e.data),{},{image:i})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),d(Object(s.a)(Object(s.a)({},e.data),{},{file:null}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(w.jsxs)(Q,{onSubmit:h,style:a,children:[Object(w.jsx)("h3",{children:"\u8bbe\u7f6e\u753b\u5e03\u5c5e\u6027:"}),Object(w.jsxs)("div",{children:[Object(w.jsx)("label",{htmlFor:"",children:"\u753b\u5e03\u5bbd\u5ea6:"}),Object(w.jsx)("input",{type:"number",id:"width",name:"width",defaultValue:parseInt(r),placeholder:"\u8bf7\u8f93\u5165\u753b\u5e03\u5bbd\u5ea6"})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("label",{htmlFor:"",children:"\u753b\u5e03\u9ad8\u5ea6:"}),Object(w.jsx)("input",{type:"number",id:"height",name:"height",defaultValue:parseInt(i),placeholder:"\u8bf7\u8f93\u5165\u753b\u5e03\u9ad8\u5ea6"})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("label",{htmlFor:"image",children:"\u4e0a\u4f20\u56fe\u7247:"}),Object(w.jsx)("input",{type:"file",accept:"image/*",name:"file"})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("label",{htmlFor:"imageWidth",children:"\u5e95\u56fe\u5bbd\u5ea6:"}),Object(w.jsx)("input",{type:"number",name:"imageWidth",id:"imageWidth",defaultValue:parseInt(r)})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("button",{type:"submit",children:"\u63d0\u4ea4"}),Object(w.jsx)("button",{type:"reset",children:"\u91cd\u7f6e"})]})]})},et=function(t){var e=t.blocks,i=void 0===e?[]:e,n=t.canvasAttr,r=void 0===n?{}:n,o=t.onUpdateBlock,a=void 0===o?function(){}:o,d=t.onUpdateCanvas,l=void 0===d?function(){}:d,h=function(){var t=[],e=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(i){i.isActive?t.push(i):e.push(i)})),[t,e]}(i,!0),p=Object(c.a)(h,1)[0],f={};if(!p.length)return Object(w.jsx)(tt,Object(s.a)(Object(s.a)({},r),{},{onUpdateCanvas:l}));if(1!==p.length)return"";f=p[0];return Object(w.jsxs)(Q,{onSubmit:function(t){var e=t.data,i=e.color,n=void 0===i?"":i,o=e.width,s=void 0===o?0:o,d=e.height,l=void 0===d?0:d,h=e.left,p=void 0===h?0:h,v=e.top,g=void 0===v?0:v,y=e.radius,b=void 0===y?0:y,j=e.type,O=void 0===j?"":j;"circle"===O?(s=2*(b=b||Math.min(f.size.width,f.size.height)/2),l=2*b):"square"===O&&(s=s||2*b,l=l||2*b,b=0);var m=u({type:O,color:n,width:parseInt(s),height:parseInt(l),radius:parseInt(b),left:parseInt(p),top:parseInt(g),id:f.id},{canvas:r}),w=Object(c.a)(m,1)[0];a(f.id,w)},children:[Object(w.jsx)("h3",{children:"\u8bbe\u7f6e\u5757\u5c5e\u6027:"}),Object(w.jsx)(Z,Object(s.a)({},f)),Object(w.jsxs)("div",{children:[Object(w.jsx)("label",{htmlFor:"type",children:"\u7c7b\u578b:"}),Object(w.jsxs)("select",{name:"type",id:"type",defaultValue:f.type,children:[Object(w.jsx)("option",{value:"circle",children:"circle"}),Object(w.jsx)("option",{value:"square",children:"square"})]},f.type)]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("label",{htmlFor:"color",children:"\u989c\u8272:"}),Object(w.jsx)("input",{type:"color",defaultValue:f.size.color,name:"color",id:"color"},f.size.color)]}),Object(w.jsx)("p",{children:"---\u5fae\u8c03---"}),Object(w.jsxs)("div",{children:[Object(w.jsx)("label",{htmlFor:"left",children:"X:"}),Object(w.jsx)("input",{type:"number",defaultValue:parseInt(f.style.left),name:"left",id:"left"},f.style.left)]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("label",{htmlFor:"top",children:"Y:"}),Object(w.jsx)("input",{type:"number",defaultValue:parseInt(f.style.top),name:"top",id:"top"},f.style.top)]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("button",{type:"submit",children:"\u63d0\u4ea4"}),Object(w.jsx)("button",{type:"reset",children:"\u91cd\u7f6e"})]})]})},it=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=[];return function(i,n){if(e.length>1)return clearTimeout(e[0]),void e.shift();e.push(setTimeout((function(){i(n)}),t))}}(),nt=function(t){var e=t.liveRender,i=void 0!==e&&e,r=t.canvasAttr,o=void 0===r?{}:r,a=t.onBlockChange,l=void 0===a?function(){}:a,h=t.onCanvasChange,p=void 0===h?function(){}:h,f=Object(n.useState)([]),v=Object(c.a)(f,2),g=v[0],y=v[1],b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t=t.map((function(t){return t.isActive=e.indexOf(t.id)>=0,t})),y(t),i&&it((function(t){l(t)}),t)},j=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(g.map((function(i){return i.id===t?Object(s.a)(Object(s.a)({},i),e):i})),[t])},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.find((function(t){return t.id===Number(e)}))||{}};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{style:{border:"1px solid lightgray"},children:[Object(w.jsx)("h2",{children:"\u53ef\u62d6\u62fd\u9884\u8bbe:"}),Object(w.jsx)("div",{style:{padding:15,backgroundColor:"green"},className:"presets-box",children:Object(w.jsx)(P,{blocks:R,draggable:!0})})]}),Object(w.jsx)(V,Object(s.a)(Object(s.a)({onDrop:function(t){t.preventDefault(),t.stopPropagation();var e=JSON.parse(t.dataTransfer.getData("block")),i=e.X,n=e.Y,r=e.type,o=t.target.getBoundingClientRect(),a=L(r)[1],l=a.size,h=a.items,p=void 0===h?[]:h;if(p.length>0){var f=[],v=[];p.forEach((function(e){var r,a;console.log(e.size);var d=u(Object(s.a)({type:e.type,isActive:!0,left:parseInt(t.clientX-i-o.x)+((null===e||void 0===e||null===(r=e.style)||void 0===r?void 0:r.left)||0),top:parseInt(t.clientY-n-o.y)+((null===e||void 0===e||null===(a=e.style)||void 0===a?void 0:a.top)||0)},e.size),{canvas:t.target}),l=Object(c.a)(d,1)[0];f.push(l),v.push(l.id)})),b([].concat(Object(d.a)(g),f),[].concat(v))}else{var y=u(Object(s.a)({type:r,isActive:!0,left:parseInt(t.clientX-i-o.x),top:parseInt(t.clientY-n-o.y)},l),{canvas:t.target}),j=Object(c.a)(y,1)[0];b([].concat(Object(d.a)(g),[j]),[j.id])}},onDragOver:function(t){t.preventDefault(),t.dataTransfer.dropEffect="copy"},onMouseDown:function(t,e){t.stopPropagation(),t.preventDefault();var i=O(g,t.target.id);if(i.id&&(!i.id||t.target.id===String(i.id))){var n=t.target.getBoundingClientRect(),r=e.current.getBoundingClientRect(),o=Math.abs(t.clientX-n.x),a=Math.abs(t.clientY-n.y),s=function(t){var e=t.clientX-o-r.x,s=t.clientY-a-r.y;(function(t){var e=t.x,i=void 0===e?0:e,n=t.y,r=void 0===n?0:n,o=t.blockRect,a=t.canvasRect;return i<0||r<0||i+o.width>a.width||r+o.height>a.height})({x:e,y:s,blockRect:n,canvasRect:r})||j(i.id,{style:{left:e,top:s}})};document.addEventListener("mousemove",s),document.addEventListener("mouseup",(function t(e){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",t)}))}},blocks:g,onUpdateBlock:b},o),{},{children:Object(w.jsx)(U,{onUpdateBlock:b})})),Object(w.jsxs)("div",{style:{display:"flex",minHeight:250},children:[Object(w.jsx)(W,{onCanvasChange:p,onBlockChange:l,setBlocks:b,blocks:g,canvasAttr:o}),Object(w.jsx)(et,{blocks:g,canvasAttr:o,onUpdateBlock:j,onUpdateCanvas:Object(n.useCallback)((function(t){p(t)}),[p])}),Object(w.jsx)(H,{})]})]})};var rt=function(){var t=Object(n.useState)([]),e=Object(c.a)(t,2),i=e[0],r=e[1],o=Object(n.useState)({width:window.innerWidth,height:window.innerHeight/2}),a=Object(c.a)(o,2),d=a[0],l=a[1];return console.log("-----",i,d),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(nt,{liveRender:!0,canvasAttr:d,onBlockChange:Object(n.useCallback)((function(t){return r(t)}),[]),onCanvasChange:Object(n.useCallback)((function(t){return l(t)}),[])}),Object(w.jsx)("hr",{}),Object(w.jsx)("h1",{children:"Output:"}),Object(w.jsx)(Y,Object(s.a)({blocks:i},d))]})},ot=(i(26),function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,28)).then((function(e){var i=e.getCLS,n=e.getFID,r=e.getFCP,o=e.getLCP,a=e.getTTFB;i(t),n(t),r(t),o(t),a(t)}))});a.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(rt,{})}),document.getElementById("root")),ot()}},[[27,1,2]]]);
//# sourceMappingURL=main.ee003816.chunk.js.map